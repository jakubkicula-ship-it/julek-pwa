<!DOCTYPE html>
<html lang="pl">
<head><!-- PWA -->
<link rel="manifest" href="manifest.json">
<meta name="theme-color" content="#2e7d32">
<link rel="apple-touch-icon" href="icon-192.png">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="default">
<meta name="apple-mobile-web-app-title" content="Zadania Julka">

<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Punkty Julka</title>

<link rel="stylesheet" href="./css/style.css">
</head>

<body>

<!-- ===== BANER AKTUALIZACJI (PC) ===== -->
<div id="updateBanner" class="hidden">
  <span>ğŸ”„ Nowa wersja aplikacji â€“ odÅ›wieÅ¼</span>
  <button onclick="forceDesktopUpdate()">OdÅ›wieÅ¼ teraz</button>
</div>

<h1>
  Punkty Julka
  <span id="appVer" class="tag"></span>
</h1>

<!-- ===== START (DASHBOARD) ===== -->
<div id="login" class="box">
  <div class="muted">Wybierz kafelek:</div>

  <div class="dashWrap">
    <div class="tile tJulek" onclick="loginJulek()">
      <div class="tileIcon">ğŸ‘¦</div>
      <div class="tileTitle">Julek</div>
      <div class="tileDesc">PodglÄ…d punktÃ³w i odwoÅ‚ania</div>
    </div>

    <div class="tile tRodzic" onclick="loginRodzic()">
      <div class="tileIcon">ğŸ‘¨â€ğŸ‘©â€ğŸ‘¦</div>
      <div class="tileTitle">Rodzic</div>
      <div class="tileDesc">Dodawanie/odejmowanie godzin</div>
    </div>
  </div>

  <div class="box adminNotesStandalone">
    <h3>ğŸ“Œ Notatki administratora</h3>
    <div id="adminNotesPublic" class="muted">
      Brak aktualnych notatek.
    </div>
  </div>

  <div class="dashWrap">
    <div class="tile tPdf" onclick="openPdf('UMOWA_JULEK_system_godzin.pdf')">
      <div class="tileIcon">ğŸ“„</div>
      <div class="tileTitle">Regulamin (PDF)</div>
      <div class="tileDesc">Do odczytu</div>
    </div>

    <div class="tile tPdf" onclick="openPdf('TABELA_PUNKTOW_JULEK.pdf')">
      <div class="tileIcon">ğŸ“Š</div>
      <div class="tileTitle">Tabela punktÃ³w (PDF)</div>
      <div class="tileDesc">Do odczytu</div>
    </div>

    <div class="tile tPdf" onclick="openPdf('Instrukcja_obsÅ‚ugi.pdf')">
      <div class="tileIcon">ğŸ“˜</div>
      <div class="tileTitle">Instrukcja obsÅ‚ugi</div>
      <div class="tileDesc">PDF â€“ jak dziaÅ‚a program</div>
    </div>
  </div>

  <div class="muted" style="margin-top:12px;">
    PINy dziaÅ‚ajÄ… lokalnie w tej stronie. RESET jest tylko w zmianach administracyjnych Kuby.
  </div>
</div>

<!-- PIN modal -->
<div id="pinModal" class="modalOverlay hidden" hidden>
  <div class="modalCard">
    <div id="pinTitle" class="modalTitle">PIN</div>
    <div class="modalHint">Wpis jest maskowany (gwiazdki).</div>
    <input id="pinInput" type="password" inputmode="numeric" pattern="[0-9]*" autocomplete="off">
    <div class="modalActions">
      <button id="pinCancel" class="smallbtn">Anuluj</button>
      <button id="pinOk" class="smallbtn">OK</button>
    </div>
  </div>
</div>

<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>

<script src="./js/time.js"></script>
<script src="./js/auth.js"></script>
<script src="./js/state.js"></script>
<script src="./js/render.js"></script>
<script src="./js/app.js"></script>
<script src="./js/parent.js"></script>
<script src="./js/child.js"></script>
<script src="./js/admin.js"></script>

<!-- Service Worker â€“ rejestracja -->
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('./sw.js')
      .then(reg => console.log('SW zarejestrowany:', reg.scope))
      .catch(err => console.error('SW bÅ‚Ä…d:', err));
  });
}
</script>

</body>
</html>
